:root {
  --bg: #0f0f10;
  --fg: #f5f5f7;
  --muted: #a0a0a6;
  --card: #17171a;
  --ok: #1e8e3e;
  --warn: #e65100;
  --accent: #ff6a00;
  --border: #26262b;
}
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--fg); font-family: -apple-system, system-ui, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif; }
.safe-top { padding-top: max(env(safe-area-inset-top), 12px); }
.safe-bottom { padding-bottom: max(env(safe-area-inset-bottom), 12px); }

.app { max-width: 480px; margin: 0 auto; padding: 0 12px 72px; }
.header { position: sticky; top: 0; display:flex; justify-content:space-between; align-items:center; background: var(--bg); z-index: 5; padding: 8px 4px 12px; }
.title { font-weight: 700; font-size: 20px; letter-spacing: .2px; }
.icon-btn { background: var(--card); color: var(--fg); border: 1px solid var(--border); padding: 6px 10px; border-radius: 10px; font-size: 14px; }

.summary .row { display:flex; gap: 10px; align-items: stretch; }
.pill { flex: 1; background: var(--card); border:1px solid var(--border); border-radius: 12px; padding: 8px 10px; display:flex; flex-direction:column; gap: 4px; min-width: 0; }
.pill .label { color: var(--muted); font-size: 12px; }
.pill .value, .pill select { font-size: 16px; font-weight: 600; color: var(--fg); background: transparent; border: none; outline: none; }
.pill select { padding: 0; }
.pill.clickable { cursor: pointer; }

.cards { display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 12px; }
.card { background: var(--card); border:1px solid var(--border); border-radius: 12px; padding: 10px; }
.card.ok { outline: 1px solid var(--ok); }
.card.warn { outline: 1px solid var(--warn); }
.card-label { color: var(--muted); font-size: 12px; }
.card-value { font-size: 16px; font-weight: 700; margin-top: 6px; }

.bycat, .txns { margin-top: 18px; }
h3 { font-size: 14px; color: var(--muted); font-weight: 600; margin: 8px 0; }
.catlist { display:flex; flex-direction:column; background: var(--card); border:1px solid var(--border); border-radius: 12px; }
.catrow { display:grid; grid-template-columns: 1fr auto; gap: 8px; align-items:center; padding: 10px 12px; border-bottom:1px solid var(--border); cursor: pointer; }
.catrow:last-child { border-bottom: 0; }

.list { list-style: none; margin: 0; padding: 0; background: var(--card); border:1px solid var(--border); border-radius: 12px; }
.item { display:flex; align-items:center; gap: 10px; padding: 10px 12px; border-bottom:1px solid var(--border); }
.item:last-child { border-bottom: 0; }
.item .main { flex: 1; min-width: 0; }
.item .name { font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.item .meta { color: var(--muted); font-size: 12px; }
.item .amt { font-weight: 700; }
.item.income .amt { color: var(--ok); }
.item.expense .amt { color: var(--warn); }
.item .delete { background: transparent; color: var(--muted); border:none; font-size:16px; }

.foot { text-align: center; color: var(--muted); margin-top: 16px; }

/* Add sheet */
.sheet-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.5); display:flex; align-items:flex-end; z-index: 20; }
.sheet { width: 100%; max-width: 520px; margin: 0 auto; background: var(--bg); border-top-left-radius: 16px; border-top-right-radius: 16px; padding: 8px 16px 20px; border-top: 1px solid var(--border); }
.sheet-bar { width: 48px; height: 5px; background: var(--border); border-radius: 5px; margin: 6px auto 10px; }
.form { display:flex; flex-direction:column; gap: 12px; }
.form label { display:flex; flex-direction:column; gap:6px; font-size: 12px; color: var(--muted); }
.form input, .form select { background: var(--card); border: 1px solid var(--border); color: var(--fg); border-radius: 10px; padding: 10px 12px; font-size: 16px; }
.primary { background: var(--accent); border: none; border-radius: 12px; padding: 12px; font-weight: 800; color: #111; }
.segmented { display:grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.segmented button { padding: 10px; border-radius: 10px; border:1px solid var(--border); background: var(--card); color: var(--fg); }
.segmented .active { background: var(--fg); color: #111; }

.muted { color: var(--muted); }

@media (max-width: 380px){
  .cards { grid-template-columns: 1fr 1fr; }
}
